#---------------------------------------------------------------------
#
#   Compation Settings and Paths
#
#---------------------------------------------------

CXX = g++ 
CXXFLAGS = -c -O3 -DNDEBUG -std=c++0x -Wall -pipe

#---------------------------------------------------------------------
#
#   SRC REPS
#
#----------------------------------------------------------------------

SRC_REP = src

#---------------------------------------------------------------------
#
#   SRC FILES
#
#---------------------------------------------------------------------

SRC = $(wildcard $(SRC_REP)/*.cpp)

#---------------------------------------------------------------------
#
#   OBJ REPS
#
#---------------------------------------------------------------------

OBJ_REP = obj

#---------------------------------------------------------------------
#
#   OBJ files
#
#---------------------------------------------------------------------

OBJ = $(addprefix $(OBJ_REP)/,$(notdir $(patsubst %.cpp, %.o, $(SRC))))

print-%  : ; @echo $* = $($*)

#---------------------------------------------------------------------
#
#   Dependencies	 
#
#---------------------------------------------------------------------

DEP := $(OBJ:.o=.d)

#---------------------------------------------------------------------
#
#   Targets
#
#---------------------------------------------------------------------

ils: $(OBJ) 
	$(CXX) $^ -o ilsvnd

clean:
	rm -rf obj
	rm -f core	
	rm -f ilsvnd

#---------------------------------------------------------------------
#
#   General Rules
#
#---------------------------------------------------------------------

$(OBJ_REP)/%.o: $(SRC_REP)/%.cpp
	@mkdir -p $(@D)
	$(CXX) $(INCLUDE) $(CXXFLAGS) $< -o $@

-include $(DEP)
